<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climate Stories</title>
    <link rel="stylesheet" href="style2.css">
</head>

<body>
    <div id="loader">
        <div id="yellow1"></div>
        <div id="yellow2"></div>
        <video autoplay loop muted src="./nasa.mp4"></video>
        <h1>
            CREATIVE PROFESSIONALS<br><em>DEDICATED</em> TO CULTURAL<br>ADVANCEMENT THROUGH<br><em>STRATEGY</em> AND
            <em>DESIGN</em>
        </h1>
    </div>

    <div id="main">
        <div id="page1">
            <div id="nav">
                <div class="logo1">
                    <img src="./logo1.png" alt="">
                </div>
                <div class="bar">
                    <a href="">Home</a><span>|</span><a href="#about">About</a><span>|</span><a
                        href="#stories">Stories</a><span>|</span><a href="#contact">Contact</a>
                </div>
                <div class="logo2">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbFrsphBvF_U2JGtwT9eGll2--UyP0Bepcqw&s"
                        alt="">
                </div>
            </div>
        </div>

       

        <!-- Container to display the story -->
        <div id="story-container">
            <h2>Climate Story</h2>
            <p id="story-content">Loading story...</p>
        </div>
    </div>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
    integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    // Function to fetch the story from the API
    async function fetchStory() {
        try {
            // Call the API
            const response = await fetch('https://server-1-wqd4.onrender.com/userauth/api/story_line');
            const data = await response.json();
            console.log(data);

            // Assuming 'data' contains an array of story parts or paragraphs.
            const storyContent = document.getElementById('story-content');
            storyContent.innerHTML = ""; // Clear existing content

            // Check if data is an array, if not wrap it in an array for simplicity
            const storyParts = Array.isArray(data) ? data : [data];

            // Loop through each part of the story and add it to the container
            storyParts.forEach(part => {
                const paragraph = document.createElement('p');
                paragraph.textContent = part; // Set the text content of each part
                paragraph.style.marginBottom = "20px"; // Add space between paragraphs
                storyContent.appendChild(paragraph);
            });
        } catch (error) {
            console.error('Error fetching story:', error);
            document.getElementById('story-content').textContent = "Failed to load the story.";
        }
    }

    // Call the function to load the story when the page is ready
    fetchStory();
</script>

<script src="./script.js"></script>
</html>